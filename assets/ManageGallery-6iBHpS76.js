const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GalleryGrid-CWlwjiBo.js","assets/index-Bc1wNwMh.js","assets/index-DU1I9C-c.css","assets/EmptyGalleryState-qjOKYu-1.js","assets/Button-qLJbJigL.js","assets/Button-Bc_3GXGQ.css","assets/GalleryFormModal-CV8T_Gyg.js","assets/Input-BwNzFWQN.js","assets/Input-BTpSyTeg.css","assets/galleryService-lJawHhqk.js","assets/uploadService-BTLtl3e2.js","assets/Textarea-BBme-3jo.js","assets/Textarea-udscM-iO.css","assets/GalleryFormModal-BeuQqAhi.css"])))=>i.map(i=>d[i]);
import{r as a,j as e,h as y,K as j,_ as n}from"./index-Bc1wNwMh.js";import{u as _,E as f}from"./ErrorMessage-B7ApYU-n.js";import{d as E,g as v}from"./galleryService-lJawHhqk.js";import{B as G}from"./Button-qLJbJigL.js";const N=a.lazy(()=>n(()=>import("./GalleryGrid-CWlwjiBo.js"),__vite__mapDeps([0,1,2]))),w=a.lazy(()=>n(()=>import("./EmptyGalleryState-qjOKYu-1.js"),__vite__mapDeps([3,1,2,4,5]))),P=a.lazy(()=>n(()=>import("./GalleryFormModal-CV8T_Gyg.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,4,5,13]))),c=()=>e.jsxs("div",{className:"gallery-grid-loader",children:[e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}}),e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}}),e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}})]}),A=()=>{const[m,s]=a.useState(!1),[h,l]=a.useState(null),{data:t,loading:u,error:i,refetch:r}=_(v),d=()=>{l(null),s(!0)},g=o=>{l(o),s(!0)},p=async o=>{if(window.confirm("Are you sure you want to delete this gallery post?"))try{await E(o),r()}catch{alert("Failed to delete post")}},x=()=>{s(!1),l(null),r()};return u?e.jsx(y,{fullScreen:!0,size:"large"}):i?e.jsx(f,{message:i,onRetry:r}):e.jsxs("div",{className:"manage-gallery-page",children:[e.jsxs("div",{className:"manage-header",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"manage-title",children:"Manage Gallery"}),e.jsx("p",{className:"manage-subtitle",children:"Upload and manage your gallery posts with multiple images"})]}),e.jsxs(G,{variant:"primary",onClick:d,children:[e.jsx(j,{size:16}),"New Post"]})]}),t&&t.length>0?e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(N,{posts:t,onEdit:g,onDelete:p})}):e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(w,{onCreate:d})}),m&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(P,{image:h,onClose:x})})]})};export{A as default};
