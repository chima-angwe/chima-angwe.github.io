import{r as e,y as j,o as y,j as s,m,H as f,I as N,J as b}from"./index-DB-VfC2O.js";import{u as v,I as p}from"./Input-CcHTTjYe.js";import{B as S}from"./Button-Dcto7-j_.js";const L=()=>{const[n,r]=e.useState(!1),[t,o]=e.useState(""),{isAuthenticated:l,login:u}=j(),i=y(),{register:c,handleSubmit:g,formState:{errors:d}}=v();e.useEffect(()=>{l&&i("/admin/dashboard")},[l,i]);const h=async x=>{try{r(!0),o("");const a=await b(x);u(a,a.token),i("/admin/dashboard")}catch(a){o(a.response?.data?.message||"Invalid credentials. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"login-page",children:s.jsxs(m.div,{className:"login-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsxs("div",{className:"login-header",children:[s.jsx("h1",{className:"login-title",children:"Admin Login"}),s.jsx("p",{className:"login-subtitle",children:"Sign in to manage your portfolio"})]}),s.jsxs("form",{onSubmit:g(h),className:"login-form",children:[s.jsxs("div",{className:"login-input-wrapper",children:[s.jsx(f,{className:"login-input-icon"}),s.jsx(p,{name:"email",type:"email",placeholder:"Email",register:c,error:d.email,required:!0})]}),s.jsxs("div",{className:"login-input-wrapper",children:[s.jsx(N,{className:"login-input-icon"}),s.jsx(p,{name:"password",type:"password",placeholder:"Password",register:c,error:d.password,required:!0})]}),t&&s.jsx(m.div,{className:"login-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.jsx("p",{children:t})}),s.jsx(S,{type:"submit",variant:"primary",disabled:n,className:"login-button",children:n?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"login-footer",children:s.jsx("p",{children:"Forgot your password? Contact support."})})]})})};export{L as default};
