import{G as g,j as s,i as m,k as h,l as x,n as p,o as j,r,p as b,h as v,q as N}from"./index-UmQSviZD.js";import{u,E as f}from"./ErrorMessage-Dy3mXj_T.js";import{i as w,a as y}from"./blogService-DQlkpKII.js";import{f as k}from"./formatDate-ClDaI8Qs.js";function B(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(e)}const C=({post:e})=>{const i=a=>{const t=document.createElement("div");t.innerHTML=a;const l=t.getElementsByTagName("script");for(let o=l.length-1;o>=0;o--)l[o].remove();return t.innerHTML};return s.jsxs("article",{className:"blog-post",children:[s.jsx("div",{className:"blog-post-image-wrapper",children:s.jsx("img",{src:e.featuredImage,alt:e.featuredImageAlt||e.title,className:"blog-post-image",loading:"lazy"})}),s.jsxs("header",{className:"blog-post-header",children:[s.jsx("span",{className:"blog-post-category",children:e.category}),s.jsx("h1",{className:"blog-post-title",children:e.title}),s.jsxs("div",{className:"blog-post-meta",children:[s.jsx("div",{className:"blog-post-meta-divider"}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(m,{size:14}),s.jsx("span",{children:k(e.createdAt)})]}),s.jsx("div",{className:"blog-post-meta-divider"}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(h,{size:14}),s.jsxs("span",{children:[e.readTime||5," min read"]})]}),s.jsx("div",{className:"blog-post-meta-divider"}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(x,{size:14}),s.jsxs("span",{children:[e.views||0," views"]})]})]}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"blog-post-tags",children:e.tags.map((a,t)=>s.jsxs("span",{className:"blog-post-tag",children:["#",a]},t))}),s.jsx("div",{className:"blog-post-actions",children:s.jsxs("button",{className:"blog-post-action-btn",onClick:()=>{navigator.share?navigator.share({title:e.title,text:e.excerpt,url:window.location.href}).catch(a=>console.error("Share failed:",a)):alert("Share functionality not supported on this browser")},title:"Share this post",children:[s.jsx(B,{size:16}),s.jsx("span",{children:"Share"})]})})]}),s.jsx("div",{className:"blog-post-content",dangerouslySetInnerHTML:{__html:i(e.content||"")}}),s.jsxs("footer",{className:"blog-post-footer",children:[s.jsx("div",{className:"blog-post-footer-divider"}),s.jsx("div",{className:"blog-post-footer-content",children:s.jsxs("div",{className:"blog-post-author-info",children:[s.jsx("div",{className:"blog-post-author-avatar",children:e.author.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"blog-post-author-name",children:"Written by Chima"}),s.jsx("div",{className:"blog-post-author-bio",children:"Passionate about software development and sharing knowledge"})]})]})})]})]})},S=()=>{const{slug:e}=p(),i=j(),{data:a,loading:t,error:l,refetch:o}=u(()=>y(e),[e]);r.useEffect(()=>{a&&w(e).catch(d=>console.error("Failed to increment views:",d))},[a,e]),r.useEffect(()=>{window.scrollTo(0,0)},[e]);const c=()=>{i("/blog",{replace:!1})},n=()=>{i("/blog",{replace:!1})};return s.jsx("div",{className:"blog-post-page",children:s.jsxs("div",{className:"blog-post-page-wrapper",children:[s.jsxs("nav",{className:"blog-post-navigation",children:[s.jsxs("button",{className:"blog-post-nav-link",onClick:c,type:"button",title:"Back to blog list",children:[s.jsx(b,{size:16}),s.jsx("span",{children:"Back to Blog"})]}),s.jsx("div",{className:"blog-post-nav-breadcrumb",children:s.jsx("span",{children:"Reading Article"})})]}),t&&s.jsx("div",{className:"blog-post-loading",children:s.jsx(v,{size:"large"})}),l&&s.jsx("div",{className:"blog-post-error",children:s.jsx(f,{message:l,onRetry:o})}),!t&&!l&&a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"blog-post-container",children:s.jsx(C,{post:a})}),s.jsx("section",{className:"blog-post-related",children:s.jsxs("div",{className:"blog-post-related-header",children:[s.jsx("h2",{children:"Continue Reading"}),s.jsxs("button",{className:"blog-post-related-link",onClick:n,type:"button",title:"View all blog articles",children:["View all articles",s.jsx(N,{size:14})]})]})})]})]})})};export{S as default};
