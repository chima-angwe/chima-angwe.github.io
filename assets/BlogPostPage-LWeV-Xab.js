import{j as s,m as r,n,i as c,k as m,l as d,o as g,r as x,L as j,p,h}from"./index-Ctl3OINq.js";import{u as b,E as N}from"./ErrorMessage-DHev1uHZ.js";import{i as u,a as v}from"./blogService-DOWoi9Q5.js";import{f}from"./formatDate-ClDaI8Qs.js";import{B as y}from"./Button-PIolUsCM.js";const B=({post:a})=>s.jsxs(r.article,{className:"blog-post",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("div",{className:"blog-post-image-wrapper",children:s.jsx("img",{src:a.featuredImage,alt:a.title,className:"blog-post-image"})}),s.jsxs("header",{className:"blog-post-header",children:[s.jsx("span",{className:"blog-post-category",children:a.category}),s.jsx("h1",{className:"blog-post-title",children:a.title}),s.jsxs("div",{className:"blog-post-meta",children:[s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(n,{size:14}),s.jsx("span",{children:a.author})]}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(c,{size:14}),s.jsx("span",{children:f(a.createdAt)})]}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(m,{size:14}),s.jsxs("span",{children:[a.readTime," min read"]})]}),s.jsxs("div",{className:"blog-post-meta-item",children:[s.jsx(d,{size:14}),s.jsxs("span",{children:[a.views," views"]})]})]}),a.tags&&a.tags.length>0&&s.jsx("div",{className:"blog-post-tags",children:a.tags.map((e,t)=>s.jsxs("span",{className:"blog-post-tag",children:["#",e]},t))})]}),s.jsx("div",{className:"blog-post-content",children:a.content.split(`

`).map((e,t)=>s.jsx("p",{children:e},t))})]}),P=()=>{const{slug:a}=g(),{data:e,loading:t,error:i,refetch:l}=b(()=>v(a),[a]);return x.useEffect(()=>{e&&u(a).catch(o=>console.error("Failed to increment views:",o))},[e,a]),s.jsx("div",{className:"blog-post-page",children:s.jsxs("div",{className:"container-custom section-padding",children:[s.jsx(r.div,{className:"blog-post-back",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},children:s.jsx(j,{to:"/blog",children:s.jsxs(y,{variant:"outline",children:[s.jsx(p,{size:16,className:"mr-2"}),"Back to Blog"]})})}),t&&s.jsx(h,{size:"large"}),i&&s.jsx(N,{message:i,onRetry:l}),!t&&!i&&e&&s.jsx(B,{post:e})]})})};export{P as default};
