import{j as a,L as j,i as b,k as p,l as v,m as i,r as N,h as u}from"./index-Ctl3OINq.js";import{u as y,E as f}from"./ErrorMessage-DHev1uHZ.js";import{g as P}from"./blogService-DOWoi9Q5.js";import{C}from"./Card-CH5wCm5K.js";import{f as w}from"./formatDate-ClDaI8Qs.js";import{c as k,f as B}from"./animations-C4yZY18d.js";import{B as m}from"./Button-PIolUsCM.js";const E=({post:s})=>a.jsx(j,{to:`/blog/${s.slug}`,children:a.jsxs(C,{className:"blog-card",hover:!0,children:[a.jsxs("div",{className:"blog-card-image-wrapper",children:[a.jsx("img",{src:s.featuredImage,alt:s.title,className:"blog-card-image"}),a.jsx("span",{className:"blog-card-category",children:s.category})]}),a.jsxs("div",{className:"blog-card-content",children:[a.jsx("h3",{className:"blog-card-title",children:s.title}),a.jsx("p",{className:"blog-card-excerpt",children:s.excerpt}),a.jsxs("div",{className:"blog-card-meta",children:[a.jsxs("div",{className:"blog-card-meta-item",children:[a.jsx(b,{size:14}),a.jsx("span",{children:w(s.createdAt)})]}),a.jsxs("div",{className:"blog-card-meta-item",children:[a.jsx(p,{size:14}),a.jsxs("span",{children:[s.readTime," min read"]})]}),a.jsxs("div",{className:"blog-card-meta-item",children:[a.jsx(v,{size:14}),a.jsxs("span",{children:[s.views," views"]})]})]}),s.tags&&s.tags.length>0&&a.jsx("div",{className:"blog-card-tags",children:s.tags.slice(0,3).map((e,r)=>a.jsx("span",{className:"blog-card-tag",children:e},r))})]})]})}),F=({posts:s})=>a.jsx(i.div,{className:"blog-grid",variants:k,initial:"hidden",animate:"visible",children:s.map(e=>a.jsx(i.div,{variants:B,children:a.jsx(E,{post:e})},e._id))}),G=()=>{const[s,e]=N.useState(1),r=9,{data:o,loading:c,error:t,refetch:g}=y(()=>P(s,r),[s]),n=o?.posts||[],l=o?.totalPages||1,d=o?.totalPosts||0,h=()=>{s>1&&(e(s-1),window.scrollTo({top:0,behavior:"smooth"}))},x=()=>{s<l&&(e(s+1),window.scrollTo({top:0,behavior:"smooth"}))};return a.jsx("div",{className:"blog-page",children:a.jsxs("div",{className:"container-custom section-padding",children:[a.jsxs(i.div,{className:"blog-header",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"blog-title",children:"Blog"}),a.jsx("p",{className:"blog-subtitle",children:"Thoughts, tutorials, and insights about web development and technology"}),d>0&&a.jsxs("p",{className:"blog-count",children:[d," articles published"]})]}),c&&a.jsx(u,{size:"large"}),t&&a.jsx(f,{message:t,onRetry:g}),!c&&!t&&n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(F,{posts:n}),l>1&&a.jsxs(i.div,{className:"blog-pagination",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[a.jsx(m,{variant:"secondary",onClick:h,disabled:s===1,children:"Previous"}),a.jsxs("span",{className:"blog-pagination-info",children:["Page ",s," of ",l]}),a.jsx(m,{variant:"secondary",onClick:x,disabled:s===l,children:"Next"})]})]}),!c&&!t&&n.length===0&&a.jsx(i.div,{className:"blog-empty",initial:{opacity:0},animate:{opacity:1},children:a.jsx("p",{className:"blog-empty-text",children:"No blog posts yet. Check back soon!"})})]})})};export{G as default};
